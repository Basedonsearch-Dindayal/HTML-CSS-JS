<%- include("include/head.ejs") %>
<br>
<br>
<a href="/posts/new" style="background-color: #f44336; color: white; padding: 10px 20px; text-align: center; text-decoration: none; border: 2px solid #b71c1c; border-radius: 5px;">Create new post</a>    
<br>
<br>
<% for (let post of posts) { %>  <!-- Fix: Added "let" -->
    <div class="post" style="border: 2px solid #ccc; padding: 15px; margin: 15px 0;">
        <h3 class="user">@<%= post.username %></h3>
        <h4 class="content"><%= post.content %></h4>

        <a href="http://localhost:8080/posts/<%= post.id %>" style="background-color: #008CBA; color: white; padding: 10px 20px; text-align: center; text-decoration: none; border: 2px solid #005f73; border-radius: 5px;">Click to see in detail</a>
        
        <a href="http://localhost:8080/posts/<%= post.id %>/edit" style="background-color: #4CAF50; color: white; padding: 10px 20px; text-align: center; text-decoration: none; border: 2px solid #357a38; border-radius: 5px;">Edit</a>
        <br/><br/>        
        <form method="POST" action="/posts/<%= post.id %>?_method=DELETE">
            <button type="submit" style="background-color: #f44336; color: white; padding: 10px 20px; text-align: center; border: 2px solid #b71c1c; border-radius: 5px;">Delete Post</button>
        </form>
    </div>
<% } %>  <!-- Fix: Closing the loop properly -->
</body>
</html>
